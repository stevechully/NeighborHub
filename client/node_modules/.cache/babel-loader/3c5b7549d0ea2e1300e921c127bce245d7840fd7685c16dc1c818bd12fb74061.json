{"ast":null,"code":"var _jsxFileName = \"/home/steve/amala/client/src/components/Sidebar.js\",\n  _s = $RefreshSig$();\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../auth/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sidebar() {\n  _s();\n  var _profile$roles, _profile$user_roles;\n  const {\n    profile,\n    logout\n  } = useAuth();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const roleName = (profile === null || profile === void 0 ? void 0 : (_profile$roles = profile.roles) === null || _profile$roles === void 0 ? void 0 : _profile$roles.name) || (profile === null || profile === void 0 ? void 0 : profile.role) || (profile === null || profile === void 0 ? void 0 : (_profile$user_roles = profile.user_roles) === null || _profile$user_roles === void 0 ? void 0 : _profile$user_roles.role) || null;\n  const isAdmin = roleName === \"ADMIN\";\n  const isResident = roleName === \"RESIDENT\";\n  const isWorker = roleName === \"WORKER\";\n  const isSecurity = roleName === \"SECURITY\";\n\n  // Sidebar Links by role\n  const links = [];\n  links.push({\n    label: \"Dashboard\",\n    to: \"/dashboard\"\n  });\n  if (isResident) {\n    links.push({\n      label: \"Complaints\",\n      to: \"/complaints\"\n    }, {\n      label: \"Worker Services\",\n      to: \"/worker-services\"\n    }, {\n      label: \"Notices\",\n      to: \"/notices\"\n    }, {\n      label: \"Events\",\n      to: \"/events\"\n    }, {\n      label: \"My Events\",\n      to: \"/my-events\"\n    }, {\n      label: \"Facilities\",\n      to: \"/facilities\"\n    }, {\n      label: \"Maintenance\",\n      to: \"/maintenance\"\n    }, {\n      label: \"My Visitors & Parcels\",\n      to: \"/my-parcels\"\n    }, {\n      label: \"Marketplace\",\n      to: \"/marketplace\"\n    });\n  }\n  if (isWorker) {\n    links.push({\n      label: \"Complaints\",\n      to: \"/complaints\"\n    }, {\n      label: \"Worker Services\",\n      to: \"/worker-services\"\n    }, {\n      label: \"Marketplace\",\n      to: \"/marketplace\"\n    });\n  }\n  if (isSecurity) {\n    links.push({\n      label: \"Gate Management\",\n      to: \"/gate\"\n    }, {\n      label: \"Marketplace\",\n      to: \"/marketplace\"\n    });\n  }\n  if (isAdmin) {\n    links.push({\n      label: \"Complaints\",\n      to: \"/complaints\"\n    }, {\n      label: \"Worker Services\",\n      to: \"/worker-services\"\n    }, {\n      label: \"Notices\",\n      to: \"/notices\"\n    }, {\n      label: \"Events\",\n      to: \"/events\"\n    }, {\n      label: \"Facilities\",\n      to: \"/facilities\"\n    }, {\n      label: \"Manage Facilities\",\n      to: \"/admin/facilities\",\n      highlight: true\n    },\n    // ✅ Added Link\n    {\n      label: \"Maintenance\",\n      to: \"/maintenance\"\n    }, {\n      label: \"Gate Management\",\n      to: \"/gate\"\n    }, {\n      label: \"Marketplace\",\n      to: \"/marketplace\"\n    }, {\n      label: \"Approve Sellers\",\n      to: \"/marketplace/sellers\",\n      highlight: true\n    });\n  }\n  const handleLogout = async () => {\n    await logout();\n    navigate(\"/login\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.sidebar,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.brand,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.brandLogo,\n        children: \"RP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.brandTitle,\n          children: \"Resident Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.brandSub,\n          children: \"Smart Community\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 4\n      },\n      children: links.map(item => {\n        const active = location.pathname === item.to;\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: item.to,\n          style: {\n            ...styles.link,\n            ...(active ? styles.activeLink : {}),\n            ...(item.highlight ? styles.highlightLink : {})\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 600,\n              fontSize: 14\n            },\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, item.to, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.footer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.roleBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 11,\n            color: \"#6b7280\",\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          },\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            color: \"#111827\"\n          },\n          children: roleName || \"User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        style: styles.logoutBtn,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n// ... styles remain the same\n_s(Sidebar, \"9hmc+XDYJEU0lpfDzBm8oAD9vQg=\", false, function () {\n  return [useAuth, useLocation, useNavigate];\n});\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["Link","useLocation","useNavigate","useAuth","jsxDEV","_jsxDEV","Sidebar","_s","_profile$roles","_profile$user_roles","profile","logout","location","navigate","roleName","roles","name","role","user_roles","isAdmin","isResident","isWorker","isSecurity","links","push","label","to","highlight","handleLogout","style","styles","sidebar","children","brand","brandLogo","fileName","_jsxFileName","lineNumber","columnNumber","brandTitle","brandSub","display","flexDirection","gap","map","item","active","pathname","link","activeLink","highlightLink","fontWeight","fontSize","footer","roleBox","color","textTransform","letterSpacing","onClick","logoutBtn","_c","$RefreshReg$"],"sources":["/home/steve/amala/client/src/components/Sidebar.js"],"sourcesContent":["import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../auth/AuthContext\";\n\nexport default function Sidebar() {\n  const { profile, logout } = useAuth();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || null;\n\n  const isAdmin = roleName === \"ADMIN\";\n  const isResident = roleName === \"RESIDENT\";\n  const isWorker = roleName === \"WORKER\";\n  const isSecurity = roleName === \"SECURITY\";\n\n  // Sidebar Links by role\n  const links = [];\n\n  links.push({ label: \"Dashboard\", to: \"/dashboard\" });\n\n  if (isResident) {\n    links.push(\n      { label: \"Complaints\", to: \"/complaints\" },\n      { label: \"Worker Services\", to: \"/worker-services\" },\n      { label: \"Notices\", to: \"/notices\" },\n      { label: \"Events\", to: \"/events\" },\n      { label: \"My Events\", to: \"/my-events\" },\n      { label: \"Facilities\", to: \"/facilities\" },\n      { label: \"Maintenance\", to: \"/maintenance\" },\n      { label: \"My Visitors & Parcels\", to: \"/my-parcels\" },\n      { label: \"Marketplace\", to: \"/marketplace\" }\n    );\n  }\n\n  if (isWorker) {\n    links.push(\n      { label: \"Complaints\", to: \"/complaints\" },\n      { label: \"Worker Services\", to: \"/worker-services\" },\n      { label: \"Marketplace\", to: \"/marketplace\" }\n    );\n  }\n\n  if (isSecurity) {\n    links.push(\n      { label: \"Gate Management\", to: \"/gate\" },\n      { label: \"Marketplace\", to: \"/marketplace\" }\n    );\n  }\n\n  if (isAdmin) {\n    links.push(\n      { label: \"Complaints\", to: \"/complaints\" },\n      { label: \"Worker Services\", to: \"/worker-services\" },\n      { label: \"Notices\", to: \"/notices\" },\n      { label: \"Events\", to: \"/events\" },\n      { label: \"Facilities\", to: \"/facilities\" },\n      { label: \"Manage Facilities\", to: \"/admin/facilities\", highlight: true }, // ✅ Added Link\n      { label: \"Maintenance\", to: \"/maintenance\" },\n      { label: \"Gate Management\", to: \"/gate\" },\n      { label: \"Marketplace\", to: \"/marketplace\" },\n      { label: \"Approve Sellers\", to: \"/marketplace/sellers\", highlight: true }\n    );\n  }\n\n  const handleLogout = async () => {\n    await logout();\n    navigate(\"/login\");\n  };\n\n  return (\n    <div style={styles.sidebar}>\n      <div style={styles.brand}>\n        <div style={styles.brandLogo}>RP</div>\n        <div>\n          <div style={styles.brandTitle}>Resident Portal</div>\n          <div style={styles.brandSub}>Smart Community</div>\n        </div>\n      </div>\n\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: 4 }}>\n        {links.map((item) => {\n          const active = location.pathname === item.to;\n\n          return (\n            <Link\n              key={item.to}\n              to={item.to}\n              style={{\n                ...styles.link,\n                ...(active ? styles.activeLink : {}),\n                ...(item.highlight ? styles.highlightLink : {}),\n              }}\n            >\n              <span style={{ fontWeight: 600, fontSize: 14 }}>{item.label}</span>\n            </Link>\n          );\n        })}\n      </div>\n\n      <div style={styles.footer}>\n        <div style={styles.roleBox}>\n          <div style={{ fontSize: 11, color: \"#6b7280\", textTransform: 'uppercase', letterSpacing: '0.5px' }}>Role</div>\n          <div style={{ fontWeight: 700, color: \"#111827\" }}>{roleName || \"User\"}</div>\n        </div>\n\n        <button onClick={handleLogout} style={styles.logoutBtn}>\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}\n// ... styles remain the same"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AACjE,SAASC,OAAO,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,cAAA,EAAAC,mBAAA;EAChC,MAAM;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAGR,OAAO,CAAC,CAAC;EACrC,MAAMS,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,QAAQ,GACZ,CAAAJ,OAAO,aAAPA,OAAO,wBAAAF,cAAA,GAAPE,OAAO,CAAEK,KAAK,cAAAP,cAAA,uBAAdA,cAAA,CAAgBQ,IAAI,MAAIN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEO,IAAI,MAAIP,OAAO,aAAPA,OAAO,wBAAAD,mBAAA,GAAPC,OAAO,CAAEQ,UAAU,cAAAT,mBAAA,uBAAnBA,mBAAA,CAAqBQ,IAAI,KAAI,IAAI;EAE5E,MAAME,OAAO,GAAGL,QAAQ,KAAK,OAAO;EACpC,MAAMM,UAAU,GAAGN,QAAQ,KAAK,UAAU;EAC1C,MAAMO,QAAQ,GAAGP,QAAQ,KAAK,QAAQ;EACtC,MAAMQ,UAAU,GAAGR,QAAQ,KAAK,UAAU;;EAE1C;EACA,MAAMS,KAAK,GAAG,EAAE;EAEhBA,KAAK,CAACC,IAAI,CAAC;IAAEC,KAAK,EAAE,WAAW;IAAEC,EAAE,EAAE;EAAa,CAAC,CAAC;EAEpD,IAAIN,UAAU,EAAE;IACdG,KAAK,CAACC,IAAI,CACR;MAAEC,KAAK,EAAE,YAAY;MAAEC,EAAE,EAAE;IAAc,CAAC,EAC1C;MAAED,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAmB,CAAC,EACpD;MAAED,KAAK,EAAE,SAAS;MAAEC,EAAE,EAAE;IAAW,CAAC,EACpC;MAAED,KAAK,EAAE,QAAQ;MAAEC,EAAE,EAAE;IAAU,CAAC,EAClC;MAAED,KAAK,EAAE,WAAW;MAAEC,EAAE,EAAE;IAAa,CAAC,EACxC;MAAED,KAAK,EAAE,YAAY;MAAEC,EAAE,EAAE;IAAc,CAAC,EAC1C;MAAED,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAAC,EAC5C;MAAED,KAAK,EAAE,uBAAuB;MAAEC,EAAE,EAAE;IAAc,CAAC,EACrD;MAAED,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAC7C,CAAC;EACH;EAEA,IAAIL,QAAQ,EAAE;IACZE,KAAK,CAACC,IAAI,CACR;MAAEC,KAAK,EAAE,YAAY;MAAEC,EAAE,EAAE;IAAc,CAAC,EAC1C;MAAED,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAmB,CAAC,EACpD;MAAED,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAC7C,CAAC;EACH;EAEA,IAAIJ,UAAU,EAAE;IACdC,KAAK,CAACC,IAAI,CACR;MAAEC,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAQ,CAAC,EACzC;MAAED,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAC7C,CAAC;EACH;EAEA,IAAIP,OAAO,EAAE;IACXI,KAAK,CAACC,IAAI,CACR;MAAEC,KAAK,EAAE,YAAY;MAAEC,EAAE,EAAE;IAAc,CAAC,EAC1C;MAAED,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAmB,CAAC,EACpD;MAAED,KAAK,EAAE,SAAS;MAAEC,EAAE,EAAE;IAAW,CAAC,EACpC;MAAED,KAAK,EAAE,QAAQ;MAAEC,EAAE,EAAE;IAAU,CAAC,EAClC;MAAED,KAAK,EAAE,YAAY;MAAEC,EAAE,EAAE;IAAc,CAAC,EAC1C;MAAED,KAAK,EAAE,mBAAmB;MAAEC,EAAE,EAAE,mBAAmB;MAAEC,SAAS,EAAE;IAAK,CAAC;IAAE;IAC1E;MAAEF,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAAC,EAC5C;MAAED,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAQ,CAAC,EACzC;MAAED,KAAK,EAAE,aAAa;MAAEC,EAAE,EAAE;IAAe,CAAC,EAC5C;MAAED,KAAK,EAAE,iBAAiB;MAAEC,EAAE,EAAE,sBAAsB;MAAEC,SAAS,EAAE;IAAK,CAC1E,CAAC;EACH;EAEA,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMjB,MAAM,CAAC,CAAC;IACdE,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,oBACER,OAAA;IAAKwB,KAAK,EAAEC,MAAM,CAACC,OAAQ;IAAAC,QAAA,gBACzB3B,OAAA;MAAKwB,KAAK,EAAEC,MAAM,CAACG,KAAM;MAAAD,QAAA,gBACvB3B,OAAA;QAAKwB,KAAK,EAAEC,MAAM,CAACI,SAAU;QAAAF,QAAA,EAAC;MAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtCjC,OAAA;QAAA2B,QAAA,gBACE3B,OAAA;UAAKwB,KAAK,EAAEC,MAAM,CAACS,UAAW;UAAAP,QAAA,EAAC;QAAe;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpDjC,OAAA;UAAKwB,KAAK,EAAEC,MAAM,CAACU,QAAS;UAAAR,QAAA,EAAC;QAAe;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENjC,OAAA;MAAKwB,KAAK,EAAE;QAAEY,OAAO,EAAE,MAAM;QAAEC,aAAa,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAE,CAAE;MAAAX,QAAA,EAC9DT,KAAK,CAACqB,GAAG,CAAEC,IAAI,IAAK;QACnB,MAAMC,MAAM,GAAGlC,QAAQ,CAACmC,QAAQ,KAAKF,IAAI,CAACnB,EAAE;QAE5C,oBACErB,OAAA,CAACL,IAAI;UAEH0B,EAAE,EAAEmB,IAAI,CAACnB,EAAG;UACZG,KAAK,EAAE;YACL,GAAGC,MAAM,CAACkB,IAAI;YACd,IAAIF,MAAM,GAAGhB,MAAM,CAACmB,UAAU,GAAG,CAAC,CAAC,CAAC;YACpC,IAAIJ,IAAI,CAAClB,SAAS,GAAGG,MAAM,CAACoB,aAAa,GAAG,CAAC,CAAC;UAChD,CAAE;UAAAlB,QAAA,eAEF3B,OAAA;YAAMwB,KAAK,EAAE;cAAEsB,UAAU,EAAE,GAAG;cAAEC,QAAQ,EAAE;YAAG,CAAE;YAAApB,QAAA,EAAEa,IAAI,CAACpB;UAAK;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC,GAR9DO,IAAI,CAACnB,EAAE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASR,CAAC;MAEX,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENjC,OAAA;MAAKwB,KAAK,EAAEC,MAAM,CAACuB,MAAO;MAAArB,QAAA,gBACxB3B,OAAA;QAAKwB,KAAK,EAAEC,MAAM,CAACwB,OAAQ;QAAAtB,QAAA,gBACzB3B,OAAA;UAAKwB,KAAK,EAAE;YAAEuB,QAAQ,EAAE,EAAE;YAAEG,KAAK,EAAE,SAAS;YAAEC,aAAa,EAAE,WAAW;YAAEC,aAAa,EAAE;UAAQ,CAAE;UAAAzB,QAAA,EAAC;QAAI;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC9GjC,OAAA;UAAKwB,KAAK,EAAE;YAAEsB,UAAU,EAAE,GAAG;YAAEI,KAAK,EAAE;UAAU,CAAE;UAAAvB,QAAA,EAAElB,QAAQ,IAAI;QAAM;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CAAC,eAENjC,OAAA;QAAQqD,OAAO,EAAE9B,YAAa;QAACC,KAAK,EAAEC,MAAM,CAAC6B,SAAU;QAAA3B,QAAA,EAAC;MAExD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AACA;AAAA/B,EAAA,CA9GwBD,OAAO;EAAA,QACDH,OAAO,EAClBF,WAAW,EACXC,WAAW;AAAA;AAAA0D,EAAA,GAHNtD,OAAO;AAAA,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}