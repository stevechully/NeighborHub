{"ast":null,"code":"// client/src/utils/slotHelpers.js\nexport function generateSlots(openTime,closeTime){let slotMinutes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:60;let selectedDate=arguments.length>3?arguments[3]:undefined;if(!openTime||!closeTime||!selectedDate)return[];const slots=[];const start=new Date(\"\".concat(selectedDate,\"T\").concat(openTime));const end=new Date(\"\".concat(selectedDate,\"T\").concat(closeTime));let current=new Date(start);while(current<end){const slotStart=new Date(current);const slotEnd=new Date(current);slotEnd.setMinutes(slotEnd.getMinutes()+slotMinutes);if(slotEnd>end)break;slots.push({start:slotStart,end:slotEnd});current=slotEnd;}return slots;}export function isSlotBooked(slot,bookings){return bookings.some(booking=>{const bStart=new Date(booking.start_time);const bEnd=new Date(booking.end_time);// Overlap logic: (StartA < EndB) AND (EndA > StartB)\nreturn slot.start<bEnd&&slot.end>bStart;});}","map":{"version":3,"names":["generateSlots","openTime","closeTime","slotMinutes","arguments","length","undefined","selectedDate","slots","start","Date","concat","end","current","slotStart","slotEnd","setMinutes","getMinutes","push","isSlotBooked","slot","bookings","some","booking","bStart","start_time","bEnd","end_time"],"sources":["/home/steve/amala/client/src/utils/slotHelpers.js"],"sourcesContent":["// client/src/utils/slotHelpers.js\n\nexport function generateSlots(openTime, closeTime, slotMinutes = 60, selectedDate) {\n    if (!openTime || !closeTime || !selectedDate) return [];\n    const slots = [];\n  \n    const start = new Date(`${selectedDate}T${openTime}`);\n    const end = new Date(`${selectedDate}T${closeTime}`);\n  \n    let current = new Date(start);\n  \n    while (current < end) {\n      const slotStart = new Date(current);\n      const slotEnd = new Date(current);\n      slotEnd.setMinutes(slotEnd.getMinutes() + slotMinutes);\n  \n      if (slotEnd > end) break;\n  \n      slots.push({ start: slotStart, end: slotEnd });\n      current = slotEnd;\n    }\n    return slots;\n  }\n  \n  export function isSlotBooked(slot, bookings) {\n    return bookings.some((booking) => {\n      const bStart = new Date(booking.start_time);\n      const bEnd = new Date(booking.end_time);\n      // Overlap logic: (StartA < EndB) AND (EndA > StartB)\n      return slot.start < bEnd && slot.end > bStart;\n    });\n  }"],"mappings":"AAAA;AAEA,MAAO,SAAS,CAAAA,aAAaA,CAACC,QAAQ,CAAEC,SAAS,CAAkC,IAAhC,CAAAC,WAAW,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,YAAY,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC7E,GAAI,CAACL,QAAQ,EAAI,CAACC,SAAS,EAAI,CAACK,YAAY,CAAE,MAAO,EAAE,CACvD,KAAM,CAAAC,KAAK,CAAG,EAAE,CAEhB,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,IAAAC,MAAA,CAAIJ,YAAY,MAAAI,MAAA,CAAIV,QAAQ,CAAE,CAAC,CACrD,KAAM,CAAAW,GAAG,CAAG,GAAI,CAAAF,IAAI,IAAAC,MAAA,CAAIJ,YAAY,MAAAI,MAAA,CAAIT,SAAS,CAAE,CAAC,CAEpD,GAAI,CAAAW,OAAO,CAAG,GAAI,CAAAH,IAAI,CAACD,KAAK,CAAC,CAE7B,MAAOI,OAAO,CAAGD,GAAG,CAAE,CACpB,KAAM,CAAAE,SAAS,CAAG,GAAI,CAAAJ,IAAI,CAACG,OAAO,CAAC,CACnC,KAAM,CAAAE,OAAO,CAAG,GAAI,CAAAL,IAAI,CAACG,OAAO,CAAC,CACjCE,OAAO,CAACC,UAAU,CAACD,OAAO,CAACE,UAAU,CAAC,CAAC,CAAGd,WAAW,CAAC,CAEtD,GAAIY,OAAO,CAAGH,GAAG,CAAE,MAEnBJ,KAAK,CAACU,IAAI,CAAC,CAAET,KAAK,CAAEK,SAAS,CAAEF,GAAG,CAAEG,OAAQ,CAAC,CAAC,CAC9CF,OAAO,CAAGE,OAAO,CACnB,CACA,MAAO,CAAAP,KAAK,CACd,CAEA,MAAO,SAAS,CAAAW,YAAYA,CAACC,IAAI,CAAEC,QAAQ,CAAE,CAC3C,MAAO,CAAAA,QAAQ,CAACC,IAAI,CAAEC,OAAO,EAAK,CAChC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAd,IAAI,CAACa,OAAO,CAACE,UAAU,CAAC,CAC3C,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAhB,IAAI,CAACa,OAAO,CAACI,QAAQ,CAAC,CACvC;AACA,MAAO,CAAAP,IAAI,CAACX,KAAK,CAAGiB,IAAI,EAAIN,IAAI,CAACR,GAAG,CAAGY,MAAM,CAC/C,CAAC,CAAC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}