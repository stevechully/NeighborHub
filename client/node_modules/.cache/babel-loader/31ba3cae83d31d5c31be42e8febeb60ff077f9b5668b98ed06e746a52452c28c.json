{"ast":null,"code":"import{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{fetchComplaints}from\"../../api/complaints.api\";import{useAuth}from\"../../auth/AuthContext\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Dashboard(){var _profile$roles,_profile$user_roles;const{profile}=useAuth();const navigate=useNavigate();const roleName=(profile===null||profile===void 0?void 0:(_profile$roles=profile.roles)===null||_profile$roles===void 0?void 0:_profile$roles.name)||(profile===null||profile===void 0?void 0:profile.role)||(profile===null||profile===void 0?void 0:(_profile$user_roles=profile.user_roles)===null||_profile$user_roles===void 0?void 0:_profile$user_roles.role)||\"USER\";useEffect(()=>{async function test(){try{const data=await fetchComplaints();console.log(\"Complaints fetched:\",data);}catch(err){console.error(\"Complaints fetch failed:\",err.message);}}test();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:30},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:30},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{margin:0,fontSize:32,fontWeight:800,letterSpacing:\"-0.5px\"},children:[\"Welcome back, \",(profile===null||profile===void 0?void 0:profile.full_name)||\"User\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:8,color:\"#6b7280\",fontSize:14},children:[roleName,\" Dashboard\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:18,fontWeight:600,marginBottom:16,color:\"#111827\"},children:\"Quick Access\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:16},children:[/*#__PURE__*/_jsx(DashboardCard,{title:\"Complaints\",onClick:()=>navigate(\"/complaints\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Maintenance\",onClick:()=>navigate(\"/maintenance\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Parcels\",onClick:()=>navigate(\"/my-parcels\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Marketplace\",onClick:()=>navigate(\"/marketplace\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Worker Services\",onClick:()=>navigate(\"/worker-services\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Facilities\",onClick:()=>navigate(\"/facilities\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Events\",onClick:()=>navigate(\"/events\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Notices\",onClick:()=>navigate(\"/notices\")}),(roleName===\"SECURITY\"||roleName===\"ADMIN\")&&/*#__PURE__*/_jsx(DashboardCard,{title:\"Gate Management\",onClick:()=>navigate(\"/gate\")}),roleName===\"ADMIN\"&&/*#__PURE__*/_jsx(DashboardCard,{title:\"Seller Approvals\",onClick:()=>navigate(\"/marketplace/sellers\")})]})]})]});}/* Clean Card Component */function DashboardCard(_ref){let{title,onClick}=_ref;return/*#__PURE__*/_jsx(\"div\",{onClick:onClick,style:{background:\"#ffffff\",padding:20,borderRadius:14,border:\"1px solid #e5e7eb\",cursor:\"pointer\",transition:\"all 0.2s ease\",boxShadow:\"0 4px 10px rgba(0,0,0,0.03)\",fontWeight:600,fontSize:15},onMouseEnter:e=>{e.currentTarget.style.transform=\"translateY(-2px)\";e.currentTarget.style.boxShadow=\"0 8px 20px rgba(0,0,0,0.06)\";},onMouseLeave:e=>{e.currentTarget.style.transform=\"translateY(0px)\";e.currentTarget.style.boxShadow=\"0 4px 10px rgba(0,0,0,0.03)\";},children:title});}","map":{"version":3,"names":["useEffect","useNavigate","fetchComplaints","useAuth","jsxs","_jsxs","jsx","_jsx","Dashboard","_profile$roles","_profile$user_roles","profile","navigate","roleName","roles","name","role","user_roles","test","data","console","log","err","error","message","style","padding","children","marginBottom","margin","fontSize","fontWeight","letterSpacing","full_name","marginTop","color","display","gridTemplateColumns","gap","DashboardCard","title","onClick","_ref","background","borderRadius","border","cursor","transition","boxShadow","onMouseEnter","e","currentTarget","transform","onMouseLeave"],"sources":["/home/steve/amala/client/src/pages/dashboard/Dashboard.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchComplaints } from \"../../api/complaints.api\";\nimport { useAuth } from \"../../auth/AuthContext\";\n\nexport default function Dashboard() {\n  const { profile } = useAuth();\n  const navigate = useNavigate();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || \"USER\";\n\n  useEffect(() => {\n    async function test() {\n      try {\n        const data = await fetchComplaints();\n        console.log(\"Complaints fetched:\", data);\n      } catch (err) {\n        console.error(\"Complaints fetch failed:\", err.message);\n      }\n    }\n    test();\n  }, []);\n\n  return (\n    <div style={{ padding: 30 }}>\n      {/* Header */}\n      <div style={{ marginBottom: 30 }}>\n        <h1 style={{ \n          margin: 0, \n          fontSize: 32, \n          fontWeight: 800,\n          letterSpacing: \"-0.5px\"\n        }}>\n          Welcome back, {profile?.full_name || \"User\"}\n        </h1>\n\n        <p style={{ \n          marginTop: 8, \n          color: \"#6b7280\", \n          fontSize: 14 \n        }}>\n          {roleName} Dashboard\n        </p>\n      </div>\n\n      {/* Quick Actions Section */}\n      <div style={{ marginBottom: 16 }}>\n        <h2 style={{ \n          fontSize: 18, \n          fontWeight: 600, \n          marginBottom: 16,\n          color: \"#111827\"\n        }}>\n          Quick Access\n        </h2>\n\n        <div style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n          gap: 16,\n        }}>\n          <DashboardCard title=\"Complaints\" onClick={() => navigate(\"/complaints\")} />\n          <DashboardCard title=\"Maintenance\" onClick={() => navigate(\"/maintenance\")} />\n          <DashboardCard title=\"Parcels\" onClick={() => navigate(\"/my-parcels\")} />\n          <DashboardCard title=\"Marketplace\" onClick={() => navigate(\"/marketplace\")} />\n          <DashboardCard title=\"Worker Services\" onClick={() => navigate(\"/worker-services\")} />\n          <DashboardCard title=\"Facilities\" onClick={() => navigate(\"/facilities\")} />\n          <DashboardCard title=\"Events\" onClick={() => navigate(\"/events\")} />\n          <DashboardCard title=\"Notices\" onClick={() => navigate(\"/notices\")} />\n\n          {(roleName === \"SECURITY\" || roleName === \"ADMIN\") && (\n            <DashboardCard title=\"Gate Management\" onClick={() => navigate(\"/gate\")} />\n          )}\n\n          {roleName === \"ADMIN\" && (\n            <DashboardCard \n              title=\"Seller Approvals\" \n              onClick={() => navigate(\"/marketplace/sellers\")} \n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* Clean Card Component */\nfunction DashboardCard({ title, onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      style={{\n        background: \"#ffffff\",\n        padding: 20,\n        borderRadius: 14,\n        border: \"1px solid #e5e7eb\",\n        cursor: \"pointer\",\n        transition: \"all 0.2s ease\",\n        boxShadow: \"0 4px 10px rgba(0,0,0,0.03)\",\n        fontWeight: 600,\n        fontSize: 15,\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.transform = \"translateY(-2px)\";\n        e.currentTarget.style.boxShadow = \"0 8px 20px rgba(0,0,0,0.06)\";\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.transform = \"translateY(0px)\";\n        e.currentTarget.style.boxShadow = \"0 4px 10px rgba(0,0,0,0.03)\";\n      }}\n    >\n      {title}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}