{"ast":null,"code":"import{useEffect}from\"react\";import{fetchComplaints}from\"../../api/complaints.api\";import{useAuth}from\"../../auth/AuthContext\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Dashboard(){var _profile$roles,_profile$user_roles;const{profile}=useAuth();const roleName=(profile===null||profile===void 0?void 0:(_profile$roles=profile.roles)===null||_profile$roles===void 0?void 0:_profile$roles.name)||(profile===null||profile===void 0?void 0:profile.role)||(profile===null||profile===void 0?void 0:(_profile$user_roles=profile.user_roles)===null||_profile$user_roles===void 0?void 0:_profile$user_roles.role)||\"USER\";useEffect(()=>{async function test(){try{const data=await fetchComplaints();console.log(\"‚úÖ Complaints fetched:\",data);}catch(err){console.error(\"‚ùå Complaints fetch failed:\",err.message);}}test();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:18},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:0,fontSize:26,fontWeight:800},children:[\"\\uD83D\\uDC4B Welcome, \",(profile===null||profile===void 0?void 0:profile.full_name)||\"User\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"6px 0 0\",color:\"#666\"},children:[\"Role: \",/*#__PURE__*/_jsx(\"b\",{children:roleName}),\" \\u2022 Manage your apartment services smoothly.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(220px, 1fr))\",gap:14,marginBottom:18},children:[/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDCCC Complaints\",value:\"Track issues\",subtitle:\"View & raise complaints\"}),/*#__PURE__*/_jsx(Card,{title:\"\\uD83E\\uDDFE Maintenance\",value:\"Invoices & payments\",subtitle:\"Pay dues and view receipts\"}),/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDCE6 Parcels\",value:\"Gate updates\",subtitle:\"Visitors and parcel tracking\"}),/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDED2 Marketplace\",value:\"Buy & sell\",subtitle:\"Order items inside community\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",borderRadius:14,padding:18,border:\"1px solid #eee\",boxShadow:\"0 6px 18px rgba(0,0,0,0.04)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:8},children:\"\\u2728 Dashboard Overview\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:\"#666\",lineHeight:1.5},children:\"This dashboard will later show live counts like pending complaints, unpaid invoices, upcoming events, facility bookings, and parcel alerts.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,display:\"flex\",gap:10,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{style:primaryBtn,children:\"\\u2795 Create Complaint\"}),/*#__PURE__*/_jsx(\"button\",{style:secondaryBtn,children:\"\\uD83D\\uDCE6 View Parcels\"}),/*#__PURE__*/_jsx(\"button\",{style:secondaryBtn,children:\"\\uD83E\\uDDFE Maintenance\"}),/*#__PURE__*/_jsx(\"button\",{style:secondaryBtn,children:\"\\uD83D\\uDED2 Marketplace\"})]})]})]});}function Card(_ref){let{title,value,subtitle}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",borderRadius:14,padding:16,border:\"1px solid #eee\",boxShadow:\"0 6px 18px rgba(0,0,0,0.04)\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:800,marginBottom:6},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:16,fontWeight:700},children:value}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,color:\"#777\",marginTop:6},children:subtitle})]});}const primaryBtn={padding:\"10px 14px\",borderRadius:10,border:\"none\",background:\"#2563eb\",color:\"#fff\",fontWeight:700,cursor:\"pointer\"};const secondaryBtn={padding:\"10px 14px\",borderRadius:10,border:\"1px solid #e5e7eb\",background:\"#fff\",color:\"#111\",fontWeight:700,cursor:\"pointer\"};","map":{"version":3,"names":["useEffect","fetchComplaints","useAuth","jsxs","_jsxs","jsx","_jsx","Dashboard","_profile$roles","_profile$user_roles","profile","roleName","roles","name","role","user_roles","test","data","console","log","err","error","message","style","padding","children","marginBottom","margin","fontSize","fontWeight","full_name","color","display","gridTemplateColumns","gap","Card","title","value","subtitle","background","borderRadius","border","boxShadow","marginTop","lineHeight","flexWrap","primaryBtn","secondaryBtn","_ref","cursor"],"sources":["/home/steve/amala/client/src/pages/dashboard/Dashboard.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { fetchComplaints } from \"../../api/complaints.api\";\nimport { useAuth } from \"../../auth/AuthContext\";\n\nexport default function Dashboard() {\n  const { profile } = useAuth();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || \"USER\";\n\n  useEffect(() => {\n    async function test() {\n      try {\n        const data = await fetchComplaints();\n        console.log(\"‚úÖ Complaints fetched:\", data);\n      } catch (err) {\n        console.error(\"‚ùå Complaints fetch failed:\", err.message);\n      }\n    }\n    test();\n  }, []);\n\n  return (\n    <div style={{ padding: 10 }}>\n      {/* Header */}\n      <div style={{ marginBottom: 18 }}>\n        <h2 style={{ margin: 0, fontSize: 26, fontWeight: 800 }}>\n          üëã Welcome, {profile?.full_name || \"User\"}\n        </h2>\n        <p style={{ margin: \"6px 0 0\", color: \"#666\" }}>\n          Role: <b>{roleName}</b> ‚Ä¢ Manage your apartment services smoothly.\n        </p>\n      </div>\n\n      {/* Quick Stats */}\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n          gap: 14,\n          marginBottom: 18,\n        }}\n      >\n        <Card title=\"üìå Complaints\" value=\"Track issues\" subtitle=\"View & raise complaints\" />\n        <Card title=\"üßæ Maintenance\" value=\"Invoices & payments\" subtitle=\"Pay dues and view receipts\" />\n        <Card title=\"üì¶ Parcels\" value=\"Gate updates\" subtitle=\"Visitors and parcel tracking\" />\n        <Card title=\"üõí Marketplace\" value=\"Buy & sell\" subtitle=\"Order items inside community\" />\n      </div>\n\n      {/* Main Section */}\n      <div\n        style={{\n          background: \"#fff\",\n          borderRadius: 14,\n          padding: 18,\n          border: \"1px solid #eee\",\n          boxShadow: \"0 6px 18px rgba(0,0,0,0.04)\",\n        }}\n      >\n        <h3 style={{ marginTop: 0, marginBottom: 8 }}>‚ú® Dashboard Overview</h3>\n        <p style={{ margin: 0, color: \"#666\", lineHeight: 1.5 }}>\n          This dashboard will later show live counts like pending complaints, unpaid invoices,\n          upcoming events, facility bookings, and parcel alerts.\n        </p>\n\n        <div style={{ marginTop: 16, display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\n          <button style={primaryBtn}>‚ûï Create Complaint</button>\n          <button style={secondaryBtn}>üì¶ View Parcels</button>\n          <button style={secondaryBtn}>üßæ Maintenance</button>\n          <button style={secondaryBtn}>üõí Marketplace</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Card({ title, value, subtitle }) {\n  return (\n    <div\n      style={{\n        background: \"#fff\",\n        borderRadius: 14,\n        padding: 16,\n        border: \"1px solid #eee\",\n        boxShadow: \"0 6px 18px rgba(0,0,0,0.04)\",\n      }}\n    >\n      <div style={{ fontWeight: 800, marginBottom: 6 }}>{title}</div>\n      <div style={{ fontSize: 16, fontWeight: 700 }}>{value}</div>\n      <div style={{ fontSize: 13, color: \"#777\", marginTop: 6 }}>{subtitle}</div>\n    </div>\n  );\n}\n\nconst primaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"none\",\n  background: \"#2563eb\",\n  color: \"#fff\",\n  fontWeight: 700,\n  cursor: \"pointer\",\n};\n\nconst secondaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"1px solid #e5e7eb\",\n  background: \"#fff\",\n  color: \"#111\",\n  fontWeight: 700,\n  cursor: \"pointer\",\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}