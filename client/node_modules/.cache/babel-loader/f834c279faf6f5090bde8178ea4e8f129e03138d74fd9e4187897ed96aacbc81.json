{"ast":null,"code":"import{useAuth}from\"../auth/AuthContext\";import{supabase}from\"../lib/supabase\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){const{profile}=useAuth();const navigate=useNavigate();async function handleLogout(){try{await supabase.auth.signOut();}catch(err){console.error(\"Logout error:\",err.message);}finally{// Remove only supabase keys (safe)\nObject.keys(localStorage).forEach(key=>{if(key.startsWith(\"sb-\"))localStorage.removeItem(key);});navigate(\"/login\");}}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:12,background:\"#fff\",marginBottom:16,borderBottom:\"1px solid #eee\"// optional: added for better visual separation\n},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Resident Portal\"}),/*#__PURE__*/_jsxs(\"span\",{style:{float:\"right\",display:\"flex\",gap:12,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",/*#__PURE__*/_jsx(\"strong\",{children:(profile===null||profile===void 0?void 0:profile.full_name)||\"User\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]})]});}","map":{"version":3,"names":["useAuth","supabase","useNavigate","jsx","_jsx","jsxs","_jsxs","Navbar","profile","navigate","handleLogout","auth","signOut","err","console","error","message","Object","keys","localStorage","forEach","key","startsWith","removeItem","style","padding","background","marginBottom","borderBottom","children","float","display","gap","alignItems","full_name","onClick"],"sources":["/home/steve/amala/client/src/components/Navbar.js"],"sourcesContent":["import { useAuth } from \"../auth/AuthContext\";\nimport { supabase } from \"../lib/supabase\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Navbar() {\n  const { profile } = useAuth();\n  const navigate = useNavigate();\n\n  async function handleLogout() {\n    try {\n      await supabase.auth.signOut();\n    } catch (err) {\n      console.error(\"Logout error:\", err.message);\n    } finally {\n      // Remove only supabase keys (safe)\n      Object.keys(localStorage).forEach((key) => {\n        if (key.startsWith(\"sb-\")) localStorage.removeItem(key);\n      });\n      navigate(\"/login\");\n    }\n  }\n\n  return (\n    <div style={{ \n      padding: 12, \n      background: \"#fff\", \n      marginBottom: 16,\n      borderBottom: \"1px solid #eee\", // optional: added for better visual separation\n    }}>\n      <strong>Resident Portal</strong>\n\n      <span style={{ float: \"right\", display: \"flex\", gap: 12, alignItems: \"center\" }}>\n        {/* âœ… Safety patch: safe access with fallback */}\n        <span>\n          Welcome, <strong>{profile?.full_name || \"User\"}</strong>\n        </span>\n        <button onClick={handleLogout}>Logout</button>\n      </span>\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,OAAO,KAAQ,qBAAqB,CAC7C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAAEC,OAAQ,CAAC,CAAGR,OAAO,CAAC,CAAC,CAC7B,KAAM,CAAAS,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9B,cAAe,CAAAQ,YAAYA,CAAA,CAAG,CAC5B,GAAI,CACF,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC,CAAC,CAC/B,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEF,GAAG,CAACG,OAAO,CAAC,CAC7C,CAAC,OAAS,CACR;AACAC,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC,CAACC,OAAO,CAAEC,GAAG,EAAK,CACzC,GAAIA,GAAG,CAACC,UAAU,CAAC,KAAK,CAAC,CAAEH,YAAY,CAACI,UAAU,CAACF,GAAG,CAAC,CACzD,CAAC,CAAC,CACFZ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAEA,mBACEH,KAAA,QAAKkB,KAAK,CAAE,CACVC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,MAAM,CAClBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,gBAAkB;AAClC,CAAE,CAAAC,QAAA,eACAzB,IAAA,WAAAyB,QAAA,CAAQ,iBAAe,CAAQ,CAAC,cAEhCvB,KAAA,SAAMkB,KAAK,CAAE,CAAEM,KAAK,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,EAAE,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,eAE9EvB,KAAA,SAAAuB,QAAA,EAAM,WACK,cAAAzB,IAAA,WAAAyB,QAAA,CAAS,CAAArB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE0B,SAAS,GAAI,MAAM,CAAS,CAAC,EACpD,CAAC,cACP9B,IAAA,WAAQ+B,OAAO,CAAEzB,YAAa,CAAAmB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC1C,CAAC,EACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}