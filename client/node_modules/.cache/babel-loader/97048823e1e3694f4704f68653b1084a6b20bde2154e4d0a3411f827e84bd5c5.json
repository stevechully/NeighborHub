{"ast":null,"code":"import { apiFetch } from \"./client\";\n\n/* PRODUCTS */\nexport function fetchMarketplaceProducts() {\n  return apiFetch(\"/api/marketplace/products\");\n}\nexport function fetchAllMarketplaceProducts() {\n  return apiFetch(\"/api/marketplace/products/all\");\n}\nexport function createMarketplaceProduct(payload) {\n  return apiFetch(\"/api/marketplace/products\", {\n    method: \"POST\",\n    body: JSON.stringify(payload)\n  });\n}\nexport function approveMarketplaceProduct(id) {\n  return apiFetch(`/api/marketplace/products/${id}/approve`, {\n    method: \"PATCH\"\n  });\n}\n\n/* ORDERS */\nexport function placeMarketplaceOrder(payload) {\n  return apiFetch(\"/api/marketplace/orders\", {\n    method: \"POST\",\n    body: JSON.stringify(payload)\n  });\n}\n\n/**\n * ✅ For Residents: Fetch their own orders merged with payment/refund data\n */\nexport function fetchMyMarketplaceOrders() {\n  return apiFetch(\"/api/marketplace/my-orders\");\n}\n\n/**\n * ✅ For Admins: Fetch ALL orders \n * (Renamed to match fetchAllMarketplaceProducts)\n */\nexport function fetchAllMarketplaceOrders() {\n  return apiFetch(\"/api/marketplace/orders\");\n}\n\n/* PAYMENTS */\nexport function payMarketplaceOrder(orderId, payload) {\n  return apiFetch(`/api/marketplace/orders/${orderId}/pay`, {\n    method: \"POST\",\n    body: JSON.stringify(payload)\n  });\n}\nexport function fetchMyMarketplacePayments() {\n  return apiFetch(\"/api/marketplace/payments/my\");\n}\nexport function fetchAllMarketplacePayments() {\n  return apiFetch(\"/api/marketplace/payments\");\n}\nexport function fetchMarketplacePaymentReceipt(paymentId) {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/receipt`);\n}\n\n/**\n * ✅ FIXED: Aligned exactly with the backend refund route we created\n * POST /api/marketplace/payments/:id/refund\n */\nexport function requestMarketplaceRefund(paymentId, reason = \"Product issue\") {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/refund`, {\n    method: \"POST\",\n    body: JSON.stringify({\n      reason\n    })\n  });\n}\nexport function approveMarketplaceRefund(paymentId) {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/refund/approve`, {\n    method: \"POST\"\n  });\n}","map":{"version":3,"names":["apiFetch","fetchMarketplaceProducts","fetchAllMarketplaceProducts","createMarketplaceProduct","payload","method","body","JSON","stringify","approveMarketplaceProduct","id","placeMarketplaceOrder","fetchMyMarketplaceOrders","fetchAllMarketplaceOrders","payMarketplaceOrder","orderId","fetchMyMarketplacePayments","fetchAllMarketplacePayments","fetchMarketplacePaymentReceipt","paymentId","requestMarketplaceRefund","reason","approveMarketplaceRefund"],"sources":["/home/steve/amala/client/src/api/marketplace.api.js"],"sourcesContent":["import { apiFetch } from \"./client\";\n\n/* PRODUCTS */\nexport function fetchMarketplaceProducts() {\n  return apiFetch(\"/api/marketplace/products\");\n}\n\nexport function fetchAllMarketplaceProducts() {\n  return apiFetch(\"/api/marketplace/products/all\"); \n}\n\nexport function createMarketplaceProduct(payload) {\n  return apiFetch(\"/api/marketplace/products\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\nexport function approveMarketplaceProduct(id) {\n  return apiFetch(`/api/marketplace/products/${id}/approve`, {\n    method: \"PATCH\",\n  });\n}\n\n/* ORDERS */\nexport function placeMarketplaceOrder(payload) {\n  return apiFetch(\"/api/marketplace/orders\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\n/**\n * ✅ For Residents: Fetch their own orders merged with payment/refund data\n */\nexport function fetchMyMarketplaceOrders() {\n  return apiFetch(\"/api/marketplace/my-orders\");\n}\n\n/**\n * ✅ For Admins: Fetch ALL orders \n * (Renamed to match fetchAllMarketplaceProducts)\n */\nexport function fetchAllMarketplaceOrders() {\n  return apiFetch(\"/api/marketplace/orders\");\n}\n\n/* PAYMENTS */\nexport function payMarketplaceOrder(orderId, payload) {\n  return apiFetch(`/api/marketplace/orders/${orderId}/pay`, {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\nexport function fetchMyMarketplacePayments() {\n  return apiFetch(\"/api/marketplace/payments/my\");\n}\n\nexport function fetchAllMarketplacePayments() {\n  return apiFetch(\"/api/marketplace/payments\");\n}\n\nexport function fetchMarketplacePaymentReceipt(paymentId) {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/receipt`);\n}\n\n/**\n * ✅ FIXED: Aligned exactly with the backend refund route we created\n * POST /api/marketplace/payments/:id/refund\n */\nexport function requestMarketplaceRefund(paymentId, reason = \"Product issue\") {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/refund`, {\n    method: \"POST\",\n    body: JSON.stringify({ reason }),\n  });\n}\n\nexport function approveMarketplaceRefund(paymentId) {\n  return apiFetch(`/api/marketplace/payments/${paymentId}/refund/approve`, {\n    method: \"POST\",\n  });\n}"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,UAAU;;AAEnC;AACA,OAAO,SAASC,wBAAwBA,CAAA,EAAG;EACzC,OAAOD,QAAQ,CAAC,2BAA2B,CAAC;AAC9C;AAEA,OAAO,SAASE,2BAA2BA,CAAA,EAAG;EAC5C,OAAOF,QAAQ,CAAC,+BAA+B,CAAC;AAClD;AAEA,OAAO,SAASG,wBAAwBA,CAACC,OAAO,EAAE;EAChD,OAAOJ,QAAQ,CAAC,2BAA2B,EAAE;IAC3CK,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO;EAC9B,CAAC,CAAC;AACJ;AAEA,OAAO,SAASK,yBAAyBA,CAACC,EAAE,EAAE;EAC5C,OAAOV,QAAQ,CAAC,6BAA6BU,EAAE,UAAU,EAAE;IACzDL,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASM,qBAAqBA,CAACP,OAAO,EAAE;EAC7C,OAAOJ,QAAQ,CAAC,yBAAyB,EAAE;IACzCK,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO;EAC9B,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA,OAAO,SAASQ,wBAAwBA,CAAA,EAAG;EACzC,OAAOZ,QAAQ,CAAC,4BAA4B,CAAC;AAC/C;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASa,yBAAyBA,CAAA,EAAG;EAC1C,OAAOb,QAAQ,CAAC,yBAAyB,CAAC;AAC5C;;AAEA;AACA,OAAO,SAASc,mBAAmBA,CAACC,OAAO,EAAEX,OAAO,EAAE;EACpD,OAAOJ,QAAQ,CAAC,2BAA2Be,OAAO,MAAM,EAAE;IACxDV,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO;EAC9B,CAAC,CAAC;AACJ;AAEA,OAAO,SAASY,0BAA0BA,CAAA,EAAG;EAC3C,OAAOhB,QAAQ,CAAC,8BAA8B,CAAC;AACjD;AAEA,OAAO,SAASiB,2BAA2BA,CAAA,EAAG;EAC5C,OAAOjB,QAAQ,CAAC,2BAA2B,CAAC;AAC9C;AAEA,OAAO,SAASkB,8BAA8BA,CAACC,SAAS,EAAE;EACxD,OAAOnB,QAAQ,CAAC,6BAA6BmB,SAAS,UAAU,CAAC;AACnE;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASC,wBAAwBA,CAACD,SAAS,EAAEE,MAAM,GAAG,eAAe,EAAE;EAC5E,OAAOrB,QAAQ,CAAC,6BAA6BmB,SAAS,SAAS,EAAE;IAC/Dd,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEa;IAAO,CAAC;EACjC,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,wBAAwBA,CAACH,SAAS,EAAE;EAClD,OAAOnB,QAAQ,CAAC,6BAA6BmB,SAAS,iBAAiB,EAAE;IACvEd,MAAM,EAAE;EACV,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}