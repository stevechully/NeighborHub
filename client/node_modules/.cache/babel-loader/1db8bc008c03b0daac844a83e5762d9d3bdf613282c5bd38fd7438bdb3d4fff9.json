{"ast":null,"code":"import{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";// ✅ Added Link\nimport{signupUser}from\"../../api/auth.api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){const navigate=useNavigate();const[fullName,setFullName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[role,setRole]=useState(\"RESIDENT\");const[loading,setLoading]=useState(false);async function handleSignup(e){e.preventDefault();try{setLoading(true);await signupUser({full_name:fullName,email,password,role});alert(\"Signup successful ✅ Now login.\");navigate(\"/login\");}catch(err){alert(err.message);}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:40,maxWidth:450,margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,style:{display:\"grid\",gap:12},children:[/*#__PURE__*/_jsx(\"input\",{style:inputStyle,placeholder:\"Full Name\",value:fullName,onChange:e=>setFullName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,placeholder:\"Email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{style:inputStyle,placeholder:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:4},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:\"0.85rem\",color:\"#666\"},children:\"Select Role:\"}),/*#__PURE__*/_jsxs(\"select\",{style:inputStyle,value:role,onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"RESIDENT\",children:\"Resident\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SELLER\",children:\"Seller (Marketplace)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SECURITY\",children:\"Security\"}),/*#__PURE__*/_jsx(\"option\",{value:\"WORKER\",children:\"Worker\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:buttonStyle,children:loading?\"Creating...\":\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"center\",marginTop:10,fontSize:\"0.9rem\"},children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login here\"})]})]})]});}// Basic styles to match the login feel\nconst inputStyle={padding:\"10px\",borderRadius:\"6px\",border:\"1px solid #ddd\"};const buttonStyle={padding:\"12px\",background:\"#007bff\",color:\"#fff\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\",fontWeight:\"bold\"};","map":{"version":3,"names":["useState","useNavigate","Link","signupUser","jsx","_jsx","jsxs","_jsxs","Signup","navigate","fullName","setFullName","email","setEmail","password","setPassword","role","setRole","loading","setLoading","handleSignup","e","preventDefault","full_name","alert","err","message","style","padding","maxWidth","margin","children","onSubmit","display","gap","inputStyle","placeholder","value","onChange","target","required","type","flexDirection","fontSize","color","disabled","buttonStyle","textAlign","marginTop","to","borderRadius","border","background","cursor","fontWeight"],"sources":["/home/steve/amala/client/src/pages/auth/Signup.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\"; // ✅ Added Link\nimport { signupUser } from \"../../api/auth.api\";\n\nexport default function Signup() {\n  const navigate = useNavigate();\n\n  const [fullName, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"RESIDENT\");\n  const [loading, setLoading] = useState(false);\n\n  async function handleSignup(e) {\n    e.preventDefault();\n\n    try {\n      setLoading(true);\n      await signupUser({\n        full_name: fullName,\n        email,\n        password,\n        role,\n      });\n\n      alert(\"Signup successful ✅ Now login.\");\n      navigate(\"/login\");\n    } catch (err) {\n      alert(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div style={{ padding: 40, maxWidth: 450, margin: \"0 auto\" }}>\n      <h2>Create Account</h2>\n\n      <form onSubmit={handleSignup} style={{ display: \"grid\", gap: 12 }}>\n        <input\n          style={inputStyle}\n          placeholder=\"Full Name\"\n          value={fullName}\n          onChange={(e) => setFullName(e.target.value)}\n          required\n        />\n\n        <input\n          style={inputStyle}\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n\n        <input\n          style={inputStyle}\n          placeholder=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: 4 }}>\n          <label style={{ fontSize: \"0.85rem\", color: \"#666\" }}>Select Role:</label>\n          <select \n            style={inputStyle} \n            value={role} \n            onChange={(e) => setRole(e.target.value)}\n          >\n            <option value=\"RESIDENT\">Resident</option>\n            <option value=\"SELLER\">Seller (Marketplace)</option>\n            <option value=\"SECURITY\">Security</option>\n            <option value=\"WORKER\">Worker</option>\n          </select>\n        </div>\n\n        <button \n          type=\"submit\" \n          disabled={loading}\n          style={buttonStyle}\n        >\n          {loading ? \"Creating...\" : \"Sign Up\"}\n        </button>\n\n        <p style={{ textAlign: \"center\", marginTop: 10, fontSize: \"0.9rem\" }}>\n          Already have an account? <Link to=\"/login\">Login here</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\n// Basic styles to match the login feel\nconst inputStyle = {\n  padding: \"10px\",\n  borderRadius: \"6px\",\n  border: \"1px solid #ddd\",\n};\n\nconst buttonStyle = {\n  padding: \"12px\",\n  background: \"#007bff\",\n  color: \"#fff\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  cursor: \"pointer\",\n  fontWeight: \"bold\",\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}