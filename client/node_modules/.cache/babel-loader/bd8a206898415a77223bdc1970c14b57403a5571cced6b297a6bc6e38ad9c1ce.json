{"ast":null,"code":"import{apiFetch}from\"./client\";/**\n * GET /api/facilities\n * All roles can view facilities (Filtered by is_active in backend)\n */export function fetchFacilities(){return apiFetch(\"/api/facilities\");}/**\n * POST /api/facilities\n * Admin creates a facility\n */export function createFacility(payload){return apiFetch(\"/api/facilities\",{method:\"POST\",body:JSON.stringify(payload)});}/**\n * PUT /api/facilities/:id\n * Admin updates a facility\n */export function updateFacility(facilityId,payload){return apiFetch(\"/api/facilities/\".concat(facilityId),{method:\"PUT\",body:JSON.stringify(payload)});}/**\n * PATCH /api/facilities/:id/deactivate\n * Admin deactivates a facility\n */export function deactivateFacility(facilityId){return apiFetch(\"/api/facilities/\".concat(facilityId,\"/deactivate\"),{method:\"PATCH\"});}/**\n * POST /api/facilities/:id/book\n * Resident books a facility\n */export function bookFacility(facilityId,payload){return apiFetch(\"/api/facilities/\".concat(facilityId,\"/book\"),{method:\"POST\",body:JSON.stringify(payload)});}/**\n * GET /api/facilities/bookings\n * Admin/General fetch of all bookings\n */export function fetchFacilityBookings(){return apiFetch(\"/api/facilities/bookings\");}/**\n * ✅ NEW: GET /api/facilities/my-bookings\n * Resident-specific booking fetch\n */export function fetchMyFacilityBookings(){return apiFetch(\"/api/facilities/my-bookings\");}/**\n * PATCH /api/facilities/bookings/:id\n * Admin ONLY generic status update (Approvals)\n */export function updateFacilityBookingStatus(bookingId,status){return apiFetch(\"/api/facilities/bookings/\".concat(bookingId),{method:\"PATCH\",body:JSON.stringify({status})});}/**\n * ✅ NEW: PATCH /api/facilities/bookings/:id/cancel\n * Logic for BOTH Residents and Admins to cancel\n */export function cancelFacilityBooking(bookingId){return apiFetch(\"/api/facilities/bookings/\".concat(bookingId,\"/cancel\"),{method:\"PATCH\"});}/**\n * POST /api/facilities/bookings/:id/pay\n */export function payForFacilityBooking(bookingId,payment_method){return apiFetch(\"/api/facilities/bookings/\".concat(bookingId,\"/pay\"),{method:\"POST\",body:JSON.stringify({payment_method})});}/**\n * ✅ NEW: POST /api/refunds/facility/request\n * Resident requests a refund for a specific payment\n */export function requestFacilityRefund(paymentId){let reason=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"Resident request\";return apiFetch(\"/api/refunds/facility/request\",{method:\"POST\",body:JSON.stringify({payment_id:paymentId,reason})});}/**\n * GET /api/facilities/:id/bookings?date=YYYY-MM-DD\n */export function fetchFacilityBookingsByDate(facilityId,date){return apiFetch(\"/api/facilities/\".concat(facilityId,\"/bookings?date=\").concat(date));}","map":{"version":3,"names":["apiFetch","fetchFacilities","createFacility","payload","method","body","JSON","stringify","updateFacility","facilityId","concat","deactivateFacility","bookFacility","fetchFacilityBookings","fetchMyFacilityBookings","updateFacilityBookingStatus","bookingId","status","cancelFacilityBooking","payForFacilityBooking","payment_method","requestFacilityRefund","paymentId","reason","arguments","length","undefined","payment_id","fetchFacilityBookingsByDate","date"],"sources":["/home/steve/amala/client/src/api/facilities.api.js"],"sourcesContent":["import { apiFetch } from \"./client\";\n\n/**\n * GET /api/facilities\n * All roles can view facilities (Filtered by is_active in backend)\n */\nexport function fetchFacilities() {\n  return apiFetch(\"/api/facilities\");\n}\n\n/**\n * POST /api/facilities\n * Admin creates a facility\n */\nexport function createFacility(payload) {\n  return apiFetch(\"/api/facilities\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\n/**\n * PUT /api/facilities/:id\n * Admin updates a facility\n */\nexport function updateFacility(facilityId, payload) {\n  return apiFetch(`/api/facilities/${facilityId}`, {\n    method: \"PUT\",\n    body: JSON.stringify(payload),\n  });\n}\n\n/**\n * PATCH /api/facilities/:id/deactivate\n * Admin deactivates a facility\n */\nexport function deactivateFacility(facilityId) {\n  return apiFetch(`/api/facilities/${facilityId}/deactivate`, {\n    method: \"PATCH\",\n  });\n}\n\n/**\n * POST /api/facilities/:id/book\n * Resident books a facility\n */\nexport function bookFacility(facilityId, payload) {\n  return apiFetch(`/api/facilities/${facilityId}/book`, {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\n/**\n * GET /api/facilities/bookings\n * Admin/General fetch of all bookings\n */\nexport function fetchFacilityBookings() {\n  return apiFetch(\"/api/facilities/bookings\");\n}\n\n/**\n * ✅ NEW: GET /api/facilities/my-bookings\n * Resident-specific booking fetch\n */\nexport function fetchMyFacilityBookings() {\n  return apiFetch(\"/api/facilities/my-bookings\");\n}\n\n/**\n * PATCH /api/facilities/bookings/:id\n * Admin ONLY generic status update (Approvals)\n */\nexport function updateFacilityBookingStatus(bookingId, status) {\n  return apiFetch(`/api/facilities/bookings/${bookingId}`, {\n    method: \"PATCH\",\n    body: JSON.stringify({ status }),\n  });\n}\n\n/**\n * ✅ NEW: PATCH /api/facilities/bookings/:id/cancel\n * Logic for BOTH Residents and Admins to cancel\n */\nexport function cancelFacilityBooking(bookingId) {\n  return apiFetch(`/api/facilities/bookings/${bookingId}/cancel`, {\n    method: \"PATCH\",\n  });\n}\n\n/**\n * POST /api/facilities/bookings/:id/pay\n */\nexport function payForFacilityBooking(bookingId, payment_method) {\n  return apiFetch(`/api/facilities/bookings/${bookingId}/pay`, {\n    method: \"POST\",\n    body: JSON.stringify({ payment_method }),\n  });\n}\n\n/**\n * ✅ NEW: POST /api/refunds/facility/request\n * Resident requests a refund for a specific payment\n */\nexport function requestFacilityRefund(paymentId, reason = \"Resident request\") {\n  return apiFetch(\"/api/refunds/facility/request\", {\n    method: \"POST\",\n    body: JSON.stringify({ payment_id: paymentId, reason }),\n  });\n}\n\n/**\n * GET /api/facilities/:id/bookings?date=YYYY-MM-DD\n */\nexport function fetchFacilityBookingsByDate(facilityId, date) {\n  return apiFetch(`/api/facilities/${facilityId}/bookings?date=${date}`);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}