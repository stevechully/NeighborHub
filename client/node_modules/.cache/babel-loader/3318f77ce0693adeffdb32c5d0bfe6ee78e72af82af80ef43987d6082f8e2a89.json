{"ast":null,"code":"import{apiFetch}from\"./client\";/**\n * GET /api/facilities\n * All roles can view facilities\n */export function fetchFacilities(){return apiFetch(\"/api/facilities\");}/**\n * POST /api/facilities/:id/book\n * Resident books a facility\n */export function bookFacility(facilityId,payload){return apiFetch(\"/api/facilities/\".concat(facilityId,\"/book\"),{method:\"POST\",body:JSON.stringify(payload)});}/**\n * GET /api/facilities/bookings\n * RLS decides visibility\n * - Resident: own bookings\n * - Admin: all bookings\n */export function fetchFacilityBookings(){return apiFetch(\"/api/facilities/bookings\");}/**\n * PATCH /api/facilities/bookings/:id\n * Admin approves/cancels booking\n */export function updateFacilityBookingStatus(bookingId,status){return apiFetch(\"/api/facilities/bookings/\".concat(bookingId),{method:\"PATCH\",body:JSON.stringify({status})});}/**\n * ✅ NEW: POST /api/facilities/bookings/:id/pay\n * Resident pays for a reserved facility\n */export function payForFacilityBooking(bookingId,payment_method){return apiFetch(\"/api/facilities/bookings/\".concat(bookingId,\"/pay\"),{method:\"POST\",body:JSON.stringify({payment_method})});}/**\n * ✅ NEW: GET /api/facilities/:id/bookings?date=YYYY-MM-DD\n * Fetch existing bookings for slot generation\n */export function fetchFacilityBookingsByDate(facilityId,date){return apiFetch(\"/api/facilities/\".concat(facilityId,\"/bookings?date=\").concat(date));}","map":{"version":3,"names":["apiFetch","fetchFacilities","bookFacility","facilityId","payload","concat","method","body","JSON","stringify","fetchFacilityBookings","updateFacilityBookingStatus","bookingId","status","payForFacilityBooking","payment_method","fetchFacilityBookingsByDate","date"],"sources":["/home/steve/amala/client/src/api/facilities.api.js"],"sourcesContent":["import { apiFetch } from \"./client\";\n\n/**\n * GET /api/facilities\n * All roles can view facilities\n */\nexport function fetchFacilities() {\n  return apiFetch(\"/api/facilities\");\n}\n\n/**\n * POST /api/facilities/:id/book\n * Resident books a facility\n */\nexport function bookFacility(facilityId, payload) {\n  return apiFetch(`/api/facilities/${facilityId}/book`, {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\n/**\n * GET /api/facilities/bookings\n * RLS decides visibility\n * - Resident: own bookings\n * - Admin: all bookings\n */\nexport function fetchFacilityBookings() {\n  return apiFetch(\"/api/facilities/bookings\");\n}\n\n/**\n * PATCH /api/facilities/bookings/:id\n * Admin approves/cancels booking\n */\nexport function updateFacilityBookingStatus(bookingId, status) {\n  return apiFetch(`/api/facilities/bookings/${bookingId}`, {\n    method: \"PATCH\",\n    body: JSON.stringify({ status }),\n  });\n}\n\n/**\n * ✅ NEW: POST /api/facilities/bookings/:id/pay\n * Resident pays for a reserved facility\n */\nexport function payForFacilityBooking(bookingId, payment_method) {\n  return apiFetch(`/api/facilities/bookings/${bookingId}/pay`, {\n    method: \"POST\",\n    body: JSON.stringify({ payment_method }),\n  });\n}\n\n/**\n * ✅ NEW: GET /api/facilities/:id/bookings?date=YYYY-MM-DD\n * Fetch existing bookings for slot generation\n */\nexport function fetchFacilityBookingsByDate(facilityId, date) {\n  return apiFetch(`/api/facilities/${facilityId}/bookings?date=${date}`);\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,UAAU,CAEnC;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,eAAeA,CAAA,CAAG,CAChC,MAAO,CAAAD,QAAQ,CAAC,iBAAiB,CAAC,CACpC,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAE,YAAYA,CAACC,UAAU,CAAEC,OAAO,CAAE,CAChD,MAAO,CAAAJ,QAAQ,oBAAAK,MAAA,CAAoBF,UAAU,UAAS,CACpDG,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,OAAO,CAC9B,CAAC,CAAC,CACJ,CAEA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAM,qBAAqBA,CAAA,CAAG,CACtC,MAAO,CAAAV,QAAQ,CAAC,0BAA0B,CAAC,CAC7C,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAW,2BAA2BA,CAACC,SAAS,CAAEC,MAAM,CAAE,CAC7D,MAAO,CAAAb,QAAQ,6BAAAK,MAAA,CAA6BO,SAAS,EAAI,CACvDN,MAAM,CAAE,OAAO,CACfC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEI,MAAO,CAAC,CACjC,CAAC,CAAC,CACJ,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,qBAAqBA,CAACF,SAAS,CAAEG,cAAc,CAAE,CAC/D,MAAO,CAAAf,QAAQ,6BAAAK,MAAA,CAA6BO,SAAS,SAAQ,CAC3DN,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEM,cAAe,CAAC,CACzC,CAAC,CAAC,CACJ,CAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,2BAA2BA,CAACb,UAAU,CAAEc,IAAI,CAAE,CAC5D,MAAO,CAAAjB,QAAQ,oBAAAK,MAAA,CAAoBF,UAAU,oBAAAE,MAAA,CAAkBY,IAAI,CAAE,CAAC,CACxE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}