{"ast":null,"code":"var _jsxFileName = \"/home/steve/amala/client/src/pages/dashboard/Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchComplaints } from \"../../api/complaints.api\";\nimport { useAuth } from \"../../auth/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  var _profile$roles, _profile$user_roles;\n  const {\n    profile\n  } = useAuth();\n  const navigate = useNavigate();\n  const roleName = (profile === null || profile === void 0 ? void 0 : (_profile$roles = profile.roles) === null || _profile$roles === void 0 ? void 0 : _profile$roles.name) || (profile === null || profile === void 0 ? void 0 : profile.role) || (profile === null || profile === void 0 ? void 0 : (_profile$user_roles = profile.user_roles) === null || _profile$user_roles === void 0 ? void 0 : _profile$user_roles.role) || \"USER\";\n  useEffect(() => {\n    async function test() {\n      try {\n        const data = await fetchComplaints();\n        console.log(\"‚úÖ Complaints fetched:\", data);\n      } catch (err) {\n        console.error(\"‚ùå Complaints fetch failed:\", err.message);\n      }\n    }\n    test();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 18\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          fontSize: 26,\n          fontWeight: 800\n        },\n        children: [\"\\uD83D\\uDC4B Welcome, \", (profile === null || profile === void 0 ? void 0 : profile.full_name) || \"User\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: \"6px 0 0\",\n          color: \"#666\"\n        },\n        children: [\"Role: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: roleName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#fff\",\n        borderRadius: 14,\n        padding: 18,\n        border: \"1px solid #eee\",\n        boxShadow: \"0 6px 18px rgba(0,0,0,0.04)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: 0,\n          marginBottom: 8\n        },\n        children: \"\\u26A1 Quick Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16,\n          display: \"flex\",\n          gap: 10,\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: primaryBtn,\n          onClick: () => navigate(\"/complaints\"),\n          children: \"\\uD83D\\uDCCC Complaints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/maintenance\"),\n          children: \"\\uD83E\\uDDFE Maintenance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/my-parcels\"),\n          children: \"\\uD83D\\uDCE6 Parcels\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/marketplace\"),\n          children: \"\\uD83D\\uDED2 Marketplace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/worker-services\"),\n          children: \"\\uD83E\\uDDD1\\u200D\\uD83D\\uDD27 Worker Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/facilities\"),\n          children: \"\\uD83C\\uDFDF\\uFE0F Facilities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/events\"),\n          children: \"\\uD83C\\uDF89 Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/notices\"),\n          children: \"\\uD83D\\uDCE2 Notices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), (roleName === \"SECURITY\" || roleName === \"ADMIN\") && /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/gate\"),\n          children: \"\\uD83D\\uDEAA Gate Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), roleName === \"ADMIN\" && /*#__PURE__*/_jsxDEV(\"button\", {\n          style: secondaryBtn,\n          onClick: () => navigate(\"/marketplace/sellers\"),\n          children: \"\\u2705 Approve Sellers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"cO1vWDMlDjx9EYEavnLd9i5WfNg=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Dashboard;\nconst primaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"none\",\n  background: \"#2563eb\",\n  color: \"#fff\",\n  fontWeight: 700,\n  cursor: \"pointer\"\n};\nconst secondaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"1px solid #e5e7eb\",\n  background: \"#fff\",\n  color: \"#111\",\n  fontWeight: 700,\n  cursor: \"pointer\"\n};\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useNavigate","fetchComplaints","useAuth","jsxDEV","_jsxDEV","Dashboard","_s","_profile$roles","_profile$user_roles","profile","navigate","roleName","roles","name","role","user_roles","test","data","console","log","err","error","message","style","padding","children","marginBottom","margin","fontSize","fontWeight","full_name","fileName","_jsxFileName","lineNumber","columnNumber","color","background","borderRadius","border","boxShadow","marginTop","display","gap","flexWrap","primaryBtn","onClick","secondaryBtn","_c","cursor","$RefreshReg$"],"sources":["/home/steve/amala/client/src/pages/dashboard/Dashboard.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchComplaints } from \"../../api/complaints.api\";\nimport { useAuth } from \"../../auth/AuthContext\";\n\nexport default function Dashboard() {\n  const { profile } = useAuth();\n  const navigate = useNavigate();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || \"USER\";\n\n  useEffect(() => {\n    async function test() {\n      try {\n        const data = await fetchComplaints();\n        console.log(\"‚úÖ Complaints fetched:\", data);\n      } catch (err) {\n        console.error(\"‚ùå Complaints fetch failed:\", err.message);\n      }\n    }\n    test();\n  }, []);\n\n  return (\n    <div style={{ padding: 10 }}>\n      {/* Header */}\n      <div style={{ marginBottom: 18 }}>\n        <h2 style={{ margin: 0, fontSize: 26, fontWeight: 800 }}>\n          üëã Welcome, {profile?.full_name || \"User\"}\n        </h2>\n        <p style={{ margin: \"6px 0 0\", color: \"#666\" }}>\n          Role: <b>{roleName}</b>\n        </p>\n      </div>\n\n      {/* Quick Actions */}\n      <div\n        style={{\n          background: \"#fff\",\n          borderRadius: 14,\n          padding: 18,\n          border: \"1px solid #eee\",\n          boxShadow: \"0 6px 18px rgba(0,0,0,0.04)\",\n        }}\n      >\n        <h3 style={{ marginTop: 0, marginBottom: 8 }}>‚ö° Quick Actions</h3>\n\n        <div style={{ marginTop: 16, display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\n          <button style={primaryBtn} onClick={() => navigate(\"/complaints\")}>\n            üìå Complaints\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/maintenance\")}>\n            üßæ Maintenance\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/my-parcels\")}>\n            üì¶ Parcels\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/marketplace\")}>\n            üõí Marketplace\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/worker-services\")}>\n            üßë‚Äçüîß Worker Services\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/facilities\")}>\n            üèüÔ∏è Facilities\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/events\")}>\n            üéâ Events\n          </button>\n\n          <button style={secondaryBtn} onClick={() => navigate(\"/notices\")}>\n            üì¢ Notices\n          </button>\n\n          {/* Security/Admin only page */}\n          {(roleName === \"SECURITY\" || roleName === \"ADMIN\") && (\n            <button style={secondaryBtn} onClick={() => navigate(\"/gate\")}>\n              üö™ Gate Management\n            </button>\n          )}\n\n          {/* Admin only page */}\n          {roleName === \"ADMIN\" && (\n            <button style={secondaryBtn} onClick={() => navigate(\"/marketplace/sellers\")}>\n              ‚úÖ Approve Sellers\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst primaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"none\",\n  background: \"#2563eb\",\n  color: \"#fff\",\n  fontWeight: 700,\n  cursor: \"pointer\",\n};\n\nconst secondaryBtn = {\n  padding: \"10px 14px\",\n  borderRadius: 10,\n  border: \"1px solid #e5e7eb\",\n  background: \"#fff\",\n  color: \"#111\",\n  fontWeight: 700,\n  cursor: \"pointer\",\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}