{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{fetchPaymentReceipt}from\"../../api/payments.api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReceiptPage(){const{id}=useParams();// paymentId\nconst navigate=useNavigate();const[receipt,setReceipt]=useState(null);const[loading,setLoading]=useState(true);async function loadReceipt(){try{setLoading(true);const data=await fetchPaymentReceipt(id);setReceipt(data);}catch(err){alert(err.message);}finally{setLoading(false);}}useEffect(()=>{loadReceipt();// eslint-disable-next-line\n},[id]);function handlePrint(){window.print();}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:30},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Receipt\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),children:\"\\u2B05 Back\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading receipt...\"}):!receipt?/*#__PURE__*/_jsx(\"p\",{children:\"No receipt found.\"}):/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",padding:24,borderRadius:10,maxWidth:600,margin:\"0 auto\",border:\"1px solid #ddd\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\",marginBottom:20},children:\"Resident Portal - Receipt\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Receipt No:\"}),\" \",receipt.receipt_no]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Amount Paid:\"}),\" \\u20B9\",receipt.amount_paid]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Payment Method:\"}),\" \",receipt.payment_method]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Paid At:\"}),\" \",new Date(receipt.paid_at).toLocaleString()]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:\"20px 0\"}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:14,color:\"#666\"},children:\"This is a system generated receipt.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrint,style:{marginTop:16,width:\"100%\",padding:\"10px 12px\",cursor:\"pointer\"},children:\"\\uD83D\\uDDA8 Print Receipt\"})]})]});}","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","fetchPaymentReceipt","jsx","_jsx","jsxs","_jsxs","ReceiptPage","id","navigate","receipt","setReceipt","loading","setLoading","loadReceipt","data","err","alert","message","handlePrint","window","print","style","padding","children","display","justifyContent","marginBottom","onClick","background","borderRadius","maxWidth","margin","border","textAlign","receipt_no","amount_paid","payment_method","Date","paid_at","toLocaleString","fontSize","color","marginTop","width","cursor"],"sources":["/home/steve/amala/client/src/pages/payments/ReceiptPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { fetchPaymentReceipt } from \"../../api/payments.api\";\n\nexport default function ReceiptPage() {\n  const { id } = useParams(); // paymentId\n  const navigate = useNavigate();\n\n  const [receipt, setReceipt] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  async function loadReceipt() {\n    try {\n      setLoading(true);\n      const data = await fetchPaymentReceipt(id);\n      setReceipt(data);\n    } catch (err) {\n      alert(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadReceipt();\n    // eslint-disable-next-line\n  }, [id]);\n\n  function handlePrint() {\n    window.print();\n  }\n\n  return (\n    <div style={{ padding: 30 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 20 }}>\n        <h2>Payment Receipt</h2>\n        <button onClick={() => navigate(-1)}>â¬… Back</button>\n      </div>\n\n      {loading ? (\n        <p>Loading receipt...</p>\n      ) : !receipt ? (\n        <p>No receipt found.</p>\n      ) : (\n        <div\n          style={{\n            background: \"#fff\",\n            padding: 24,\n            borderRadius: 10,\n            maxWidth: 600,\n            margin: \"0 auto\",\n            border: \"1px solid #ddd\",\n          }}\n        >\n          <h3 style={{ textAlign: \"center\", marginBottom: 20 }}>\n            Resident Portal - Receipt\n          </h3>\n\n          <p><b>Receipt No:</b> {receipt.receipt_no}</p>\n          <p><b>Amount Paid:</b> â‚¹{receipt.amount_paid}</p>\n          <p><b>Payment Method:</b> {receipt.payment_method}</p>\n          <p><b>Paid At:</b> {new Date(receipt.paid_at).toLocaleString()}</p>\n\n          <hr style={{ margin: \"20px 0\" }} />\n\n          <p style={{ fontSize: 14, color: \"#666\" }}>\n            This is a system generated receipt.\n          </p>\n\n          <button\n            onClick={handlePrint}\n            style={{\n              marginTop: 16,\n              width: \"100%\",\n              padding: \"10px 12px\",\n              cursor: \"pointer\",\n            }}\n          >\n            ðŸ–¨ Print Receipt\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}