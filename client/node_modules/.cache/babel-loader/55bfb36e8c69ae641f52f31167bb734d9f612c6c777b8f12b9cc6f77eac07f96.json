{"ast":null,"code":"import{Link}from\"react-router-dom\";import{useAuth}from\"../auth/AuthContext\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sidebar(){var _profile$roles,_profile$user_roles;// ✅ Added logout to the destructuring\nconst{profile,logout}=useAuth();const roleName=(profile===null||profile===void 0?void 0:(_profile$roles=profile.roles)===null||_profile$roles===void 0?void 0:_profile$roles.name)||(profile===null||profile===void 0?void 0:profile.role)||(profile===null||profile===void 0?void 0:(_profile$user_roles=profile.user_roles)===null||_profile$user_roles===void 0?void 0:_profile$user_roles.role)||null;const isAdmin=roleName===\"ADMIN\";const isResident=roleName===\"RESIDENT\";const isWorker=roleName===\"WORKER\";const isSecurity=roleName===\"SECURITY\";return/*#__PURE__*/_jsxs(\"div\",{style:{width:220,background:\"#fff\",padding:12,borderRight:\"1px solid #eee\",height:\"100vh\",display:\"flex\",flexDirection:\"column\",gap:8},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:\"Dashboard\"})}),isResident&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/complaints\",children:\"Complaints\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/worker-services\",children:\"Worker Services\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/notices\",children:\"Notices\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/events\",children:\"Events\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/facilities\",children:\"Facilities\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/maintenance\",children:\"Maintenance\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/my-parcels\",children:\"My Visitors & Parcels\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",children:\"Marketplace\"})})]}),isWorker&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/complaints\",children:\"Complaints\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/worker-services\",children:\"Worker Services\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",children:\"Marketplace\"})})]}),isSecurity&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/gate\",children:\"Gate Management\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",children:\"Marketplace\"})})]}),isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/complaints\",children:\"Complaints\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/worker-services\",children:\"Worker Services\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/notices\",children:\"Notices\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/events\",children:\"Events\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/facilities\",children:\"Facilities\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/maintenance\",children:\"Maintenance\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/gate\",children:\"Gate Management\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",children:\"Marketplace\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/marketplace/sellers\",style:{color:\"#007bff\",fontWeight:\"bold\"},children:\"Approve Sellers\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"auto\",borderTop:\"1px solid #eee\",paddingTop:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:\"#888\",marginBottom:8},children:[\"Role: \",/*#__PURE__*/_jsx(\"strong\",{children:roleName||\"User\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,style:{width:\"100%\",padding:\"8px\",background:\"#ff4d4f\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",fontWeight:\"bold\"},children:\"Logout\"})]})]});}","map":{"version":3,"names":["Link","useAuth","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Sidebar","_profile$roles","_profile$user_roles","profile","logout","roleName","roles","name","role","user_roles","isAdmin","isResident","isWorker","isSecurity","style","width","background","padding","borderRight","height","display","flexDirection","gap","children","to","color","fontWeight","marginTop","borderTop","paddingTop","fontSize","marginBottom","onClick","border","borderRadius","cursor"],"sources":["/home/steve/amala/client/src/components/Sidebar.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useAuth } from \"../auth/AuthContext\";\n\nexport default function Sidebar() {\n  // ✅ Added logout to the destructuring\n  const { profile, logout } = useAuth();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || null;\n\n  const isAdmin = roleName === \"ADMIN\";\n  const isResident = roleName === \"RESIDENT\";\n  const isWorker = roleName === \"WORKER\";\n  const isSecurity = roleName === \"SECURITY\";\n\n  return (\n    <div\n      style={{\n        width: 220,\n        background: \"#fff\",\n        padding: 12,\n        borderRight: \"1px solid #eee\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 8,\n      }}\n    >\n      <p><Link to=\"/dashboard\">Dashboard</Link></p>\n\n      {/* RESIDENT Links */}\n      {isResident && (\n        <>\n          <p><Link to=\"/complaints\">Complaints</Link></p>\n          <p><Link to=\"/worker-services\">Worker Services</Link></p>\n          <p><Link to=\"/notices\">Notices</Link></p>\n          <p><Link to=\"/events\">Events</Link></p>\n          <p><Link to=\"/facilities\">Facilities</Link></p>\n          <p><Link to=\"/maintenance\">Maintenance</Link></p>\n          <p><Link to=\"/my-parcels\">My Visitors & Parcels</Link></p>\n          <p><Link to=\"/marketplace\">Marketplace</Link></p>\n        </>\n      )}\n\n      {/* WORKER Links */}\n      {isWorker && (\n        <>\n          <p><Link to=\"/complaints\">Complaints</Link></p>\n          <p><Link to=\"/worker-services\">Worker Services</Link></p>\n          <p><Link to=\"/marketplace\">Marketplace</Link></p>\n        </>\n      )}\n\n      {/* SECURITY Links */}\n      {isSecurity && (\n        <>\n          <p><Link to=\"/gate\">Gate Management</Link></p>\n          <p><Link to=\"/marketplace\">Marketplace</Link></p>\n        </>\n      )}\n\n      {/* ADMIN Links */}\n      {isAdmin && (\n        <>\n          <p><Link to=\"/complaints\">Complaints</Link></p>\n          <p><Link to=\"/worker-services\">Worker Services</Link></p>\n          <p><Link to=\"/notices\">Notices</Link></p>\n          <p><Link to=\"/events\">Events</Link></p>\n          <p><Link to=\"/facilities\">Facilities</Link></p>\n          <p><Link to=\"/maintenance\">Maintenance</Link></p>\n          <p><Link to=\"/gate\">Gate Management</Link></p>\n          <p><Link to=\"/marketplace\">Marketplace</Link></p>\n          {/* ✅ New Admin-only link for Seller Approval */}\n          <p><Link to=\"/marketplace/sellers\" style={{ color: \"#007bff\", fontWeight: \"bold\" }}>Approve Sellers</Link></p>\n        </>\n      )}\n\n      {/* Footer */}\n      <div style={{ marginTop: \"auto\", borderTop: \"1px solid #eee\", paddingTop: 12 }}>\n        <div style={{ fontSize: 12, color: \"#888\", marginBottom: 8 }}>\n          Role: <strong>{roleName || \"User\"}</strong>\n        </div>\n        \n        {/* ✅ Finalized Logout Button */}\n        <button \n          onClick={logout} \n          style={{ \n            width: \"100%\",\n            padding: \"8px\",\n            background: \"#ff4d4f\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n            fontWeight: \"bold\"\n          }}\n        >\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}