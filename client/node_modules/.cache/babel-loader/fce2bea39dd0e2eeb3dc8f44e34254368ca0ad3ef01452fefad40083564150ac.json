{"ast":null,"code":"import{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{fetchComplaints}from\"../../api/complaints.api\";import{useAuth}from\"../../auth/AuthContext\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Dashboard(){var _profile$roles,_profile$user_roles;const{profile}=useAuth();const navigate=useNavigate();const roleName=(profile===null||profile===void 0?void 0:(_profile$roles=profile.roles)===null||_profile$roles===void 0?void 0:_profile$roles.name)||(profile===null||profile===void 0?void 0:profile.role)||(profile===null||profile===void 0?void 0:(_profile$user_roles=profile.user_roles)===null||_profile$user_roles===void 0?void 0:_profile$user_roles.role)||\"USER\";useEffect(()=>{async function test(){try{await fetchComplaints();}catch(err){console.error(\"Complaints fetch failed:\",err.message);}}test();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:40,maxWidth:1200,margin:\"0 auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:40},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{fontSize:28,fontWeight:600,marginBottom:6},children:[\"Welcome back, \",(profile===null||profile===void 0?void 0:profile.full_name)||\"User\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#6b7280\",fontSize:14},children:[roleName,\" Dashboard\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:16,fontWeight:600,marginBottom:20,color:\"#374151\"},children:\"Quick Access\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fill, minmax(220px, 1fr))\",gap:20},children:[/*#__PURE__*/_jsx(DashboardCard,{title:\"Complaints\",onClick:()=>navigate(\"/complaints\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Maintenance\",onClick:()=>navigate(\"/maintenance\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Parcels\",onClick:()=>navigate(\"/my-parcels\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Marketplace\",onClick:()=>navigate(\"/marketplace\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Worker Services\",onClick:()=>navigate(\"/worker-services\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Facilities\",onClick:()=>navigate(\"/facilities\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Events\",onClick:()=>navigate(\"/events\")}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Notices\",onClick:()=>navigate(\"/notices\")}),(roleName===\"SECURITY\"||roleName===\"ADMIN\")&&/*#__PURE__*/_jsx(DashboardCard,{title:\"Gate Management\",onClick:()=>navigate(\"/gate\")}),roleName===\"ADMIN\"&&/*#__PURE__*/_jsx(DashboardCard,{title:\"Seller Approvals\",onClick:()=>navigate(\"/marketplace/sellers\")})]})]})]});}/* Clean Modern Card */function DashboardCard(_ref){let{title,onClick}=_ref;return/*#__PURE__*/_jsx(\"div\",{onClick:onClick,style:{background:\"#ffffff\",padding:\"22px 20px\",borderRadius:12,border:\"1px solid #e5e7eb\",cursor:\"pointer\",transition:\"all 0.15s ease\",boxShadow:\"0 2px 6px rgba(0,0,0,0.04)\",fontWeight:500,fontSize:15},onMouseEnter:e=>{e.currentTarget.style.transform=\"translateY(-3px)\";e.currentTarget.style.boxShadow=\"0 10px 25px rgba(0,0,0,0.08)\";},onMouseLeave:e=>{e.currentTarget.style.transform=\"translateY(0)\";e.currentTarget.style.boxShadow=\"0 2px 6px rgba(0,0,0,0.04)\";},children:title});}","map":{"version":3,"names":["useEffect","useNavigate","fetchComplaints","useAuth","jsxs","_jsxs","jsx","_jsx","Dashboard","_profile$roles","_profile$user_roles","profile","navigate","roleName","roles","name","role","user_roles","test","err","console","error","message","style","padding","maxWidth","margin","children","marginBottom","fontSize","fontWeight","full_name","color","display","gridTemplateColumns","gap","DashboardCard","title","onClick","_ref","background","borderRadius","border","cursor","transition","boxShadow","onMouseEnter","e","currentTarget","transform","onMouseLeave"],"sources":["/home/steve/amala/client/src/pages/dashboard/Dashboard.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchComplaints } from \"../../api/complaints.api\";\nimport { useAuth } from \"../../auth/AuthContext\";\n\nexport default function Dashboard() {\n  const { profile } = useAuth();\n  const navigate = useNavigate();\n\n  const roleName =\n    profile?.roles?.name || profile?.role || profile?.user_roles?.role || \"USER\";\n\n  useEffect(() => {\n    async function test() {\n      try {\n        await fetchComplaints();\n      } catch (err) {\n        console.error(\"Complaints fetch failed:\", err.message);\n      }\n    }\n    test();\n  }, []);\n\n  return (\n    <div style={{ padding: 40, maxWidth: 1200, margin: \"0 auto\" }}>\n      \n      {/* Header */}\n      <div style={{ marginBottom: 40 }}>\n        <h1 style={{\n          fontSize: 28,\n          fontWeight: 600,\n          marginBottom: 6\n        }}>\n          Welcome back, {profile?.full_name || \"User\"}\n        </h1>\n\n        <p style={{\n          color: \"#6b7280\",\n          fontSize: 14\n        }}>\n          {roleName} Dashboard\n        </p>\n      </div>\n\n      {/* Quick Access Section */}\n      <div>\n        <h2 style={{\n          fontSize: 16,\n          fontWeight: 600,\n          marginBottom: 20,\n          color: \"#374151\"\n        }}>\n          Quick Access\n        </h2>\n\n        <div style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(220px, 1fr))\",\n          gap: 20,\n        }}>\n          <DashboardCard title=\"Complaints\" onClick={() => navigate(\"/complaints\")} />\n          <DashboardCard title=\"Maintenance\" onClick={() => navigate(\"/maintenance\")} />\n          <DashboardCard title=\"Parcels\" onClick={() => navigate(\"/my-parcels\")} />\n          <DashboardCard title=\"Marketplace\" onClick={() => navigate(\"/marketplace\")} />\n          <DashboardCard title=\"Worker Services\" onClick={() => navigate(\"/worker-services\")} />\n          <DashboardCard title=\"Facilities\" onClick={() => navigate(\"/facilities\")} />\n          <DashboardCard title=\"Events\" onClick={() => navigate(\"/events\")} />\n          <DashboardCard title=\"Notices\" onClick={() => navigate(\"/notices\")} />\n\n          {(roleName === \"SECURITY\" || roleName === \"ADMIN\") && (\n            <DashboardCard title=\"Gate Management\" onClick={() => navigate(\"/gate\")} />\n          )}\n\n          {roleName === \"ADMIN\" && (\n            <DashboardCard\n              title=\"Seller Approvals\"\n              onClick={() => navigate(\"/marketplace/sellers\")}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* Clean Modern Card */\nfunction DashboardCard({ title, onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      style={{\n        background: \"#ffffff\",\n        padding: \"22px 20px\",\n        borderRadius: 12,\n        border: \"1px solid #e5e7eb\",\n        cursor: \"pointer\",\n        transition: \"all 0.15s ease\",\n        boxShadow: \"0 2px 6px rgba(0,0,0,0.04)\",\n        fontWeight: 500,\n        fontSize: 15,\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.transform = \"translateY(-3px)\";\n        e.currentTarget.style.boxShadow = \"0 10px 25px rgba(0,0,0,0.08)\";\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.transform = \"translateY(0)\";\n        e.currentTarget.style.boxShadow = \"0 2px 6px rgba(0,0,0,0.04)\";\n      }}\n    >\n      {title}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}