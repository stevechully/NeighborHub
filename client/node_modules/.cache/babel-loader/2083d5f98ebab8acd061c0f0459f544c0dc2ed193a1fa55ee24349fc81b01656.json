{"ast":null,"code":"// client/src/utils/slotHelpers.js\n\nexport function generateSlots(openTime, closeTime, slotMinutes = 60, selectedDate) {\n  if (!openTime || !closeTime || !selectedDate) return [];\n  const slots = [];\n  const start = new Date(`${selectedDate}T${openTime}`);\n  const end = new Date(`${selectedDate}T${closeTime}`);\n  let current = new Date(start);\n  while (current < end) {\n    const slotStart = new Date(current);\n    const slotEnd = new Date(current);\n    slotEnd.setMinutes(slotEnd.getMinutes() + slotMinutes);\n    if (slotEnd > end) break;\n    slots.push({\n      start: slotStart,\n      end: slotEnd\n    });\n    current = slotEnd;\n  }\n  return slots;\n}\nexport function isSlotBooked(slot, bookings) {\n  return bookings.some(booking => {\n    const bStart = new Date(booking.start_time);\n    const bEnd = new Date(booking.end_time);\n    // Overlap logic: (StartA < EndB) AND (EndA > StartB)\n    return slot.start < bEnd && slot.end > bStart;\n  });\n}","map":{"version":3,"names":["generateSlots","openTime","closeTime","slotMinutes","selectedDate","slots","start","Date","end","current","slotStart","slotEnd","setMinutes","getMinutes","push","isSlotBooked","slot","bookings","some","booking","bStart","start_time","bEnd","end_time"],"sources":["/home/steve/amala/client/src/utils/slotHelpers.js"],"sourcesContent":["// client/src/utils/slotHelpers.js\n\nexport function generateSlots(openTime, closeTime, slotMinutes = 60, selectedDate) {\n    if (!openTime || !closeTime || !selectedDate) return [];\n    const slots = [];\n  \n    const start = new Date(`${selectedDate}T${openTime}`);\n    const end = new Date(`${selectedDate}T${closeTime}`);\n  \n    let current = new Date(start);\n  \n    while (current < end) {\n      const slotStart = new Date(current);\n      const slotEnd = new Date(current);\n      slotEnd.setMinutes(slotEnd.getMinutes() + slotMinutes);\n  \n      if (slotEnd > end) break;\n  \n      slots.push({ start: slotStart, end: slotEnd });\n      current = slotEnd;\n    }\n    return slots;\n  }\n  \n  export function isSlotBooked(slot, bookings) {\n    return bookings.some((booking) => {\n      const bStart = new Date(booking.start_time);\n      const bEnd = new Date(booking.end_time);\n      // Overlap logic: (StartA < EndB) AND (EndA > StartB)\n      return slot.start < bEnd && slot.end > bStart;\n    });\n  }"],"mappings":"AAAA;;AAEA,OAAO,SAASA,aAAaA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,GAAG,EAAE,EAAEC,YAAY,EAAE;EAC/E,IAAI,CAACH,QAAQ,IAAI,CAACC,SAAS,IAAI,CAACE,YAAY,EAAE,OAAO,EAAE;EACvD,MAAMC,KAAK,GAAG,EAAE;EAEhB,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,GAAGH,YAAY,IAAIH,QAAQ,EAAE,CAAC;EACrD,MAAMO,GAAG,GAAG,IAAID,IAAI,CAAC,GAAGH,YAAY,IAAIF,SAAS,EAAE,CAAC;EAEpD,IAAIO,OAAO,GAAG,IAAIF,IAAI,CAACD,KAAK,CAAC;EAE7B,OAAOG,OAAO,GAAGD,GAAG,EAAE;IACpB,MAAME,SAAS,GAAG,IAAIH,IAAI,CAACE,OAAO,CAAC;IACnC,MAAME,OAAO,GAAG,IAAIJ,IAAI,CAACE,OAAO,CAAC;IACjCE,OAAO,CAACC,UAAU,CAACD,OAAO,CAACE,UAAU,CAAC,CAAC,GAAGV,WAAW,CAAC;IAEtD,IAAIQ,OAAO,GAAGH,GAAG,EAAE;IAEnBH,KAAK,CAACS,IAAI,CAAC;MAAER,KAAK,EAAEI,SAAS;MAAEF,GAAG,EAAEG;IAAQ,CAAC,CAAC;IAC9CF,OAAO,GAAGE,OAAO;EACnB;EACA,OAAON,KAAK;AACd;AAEA,OAAO,SAASU,YAAYA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EAC3C,OAAOA,QAAQ,CAACC,IAAI,CAAEC,OAAO,IAAK;IAChC,MAAMC,MAAM,GAAG,IAAIb,IAAI,CAACY,OAAO,CAACE,UAAU,CAAC;IAC3C,MAAMC,IAAI,GAAG,IAAIf,IAAI,CAACY,OAAO,CAACI,QAAQ,CAAC;IACvC;IACA,OAAOP,IAAI,CAACV,KAAK,GAAGgB,IAAI,IAAIN,IAAI,CAACR,GAAG,GAAGY,MAAM;EAC/C,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}